<!DOCTYPE html>
<html lang="en">
<head>
 <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2788760068612820"
     crossorigin="anonymous"></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Forgot Password | iBlue Uganda</title>

<style>
  * { box-sizing: border-box; margin:0; padding:0; font-family: Arial, sans-serif; }
  body { background: #f5f7fb; padding: 12px; }
  header { background: #2563eb; color:white; padding: 14px; text-align:center; font-weight:bold; margin-bottom:12px; }
  .container { max-width:400px; margin:auto; background:#fff; padding:16px; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.08); }
  .form-group { margin-bottom:12px; }
  label { display:block; margin-bottom:4px; font-weight:bold; }
  input { width:100%; padding:10px; border-radius:8px; border:1px solid #ccc; }
  button { background:#2563eb; color:white; padding:10px; border:none; border-radius:8px; cursor:pointer; font-weight:bold; width:100%; margin-top:10px; }
  .message { margin-top:10px; text-align:center; color:#16a34a; font-size:14px; }
</style>
</head>
<body>

<header>Forgot Password</header>
<div class="container">
  <div class="form-group">
    <label for="email">Email</label>
    <input type="email" id="email" placeholder="Enter your email" />
  </div>
  <button onclick="sendReset()">Send Reset Link</button>
  <div class="message" id="msg"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const sb = window.supabase.createClient("https://uufhvmmgwzkxvvdbqemz.supabase.co", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV1Zmh2bW1nd3preHZ2ZGJxZW16Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzMDIzNTYsImV4cCI6MjA4NTg3ODM1Nn0.WABHx4ilFRkhPHP-y4ZC4E8Kb7PRqY-cyxI8cVS8Tyc");

  async function sendReset(){
    const email = document.getElementById('email').value.trim();
    if(!email){ alert('Enter your email'); return; }

    const { data, error } = await sb.auth.resetPasswordForEmail(email, {
      redirectTo: window.location.origin + '/auth/reset-password.html'
    });

    const msg = document.getElementById('msg');
    if(error) msg.textContent = error.message;
    else msg.textContent = 'Password reset link sent to your email.';
  }
</script>

</body>
</html>
